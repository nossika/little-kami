webpackJsonp([1],{128:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(60),o=r(i),s=n(40),a=r(s),l=n(41),u=r(l),d=function(){function e(t){(0,a.default)(this,e),this.type=t,this.color="",this.line="",this._linkNodes=new o.default}return(0,u.default)(e,[{key:"link",value:function(){var t=this;if(this.type){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r.filter(function(t){return t&&t instanceof e&&t.type}).forEach(function(e){t._linkNodes.has(e)||(t._linkNodes.add(e),e._linkNodes.add(t))})}}},{key:"unlink",value:function(){for(var t=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r.filter(function(t){return t&&t instanceof e&&t.type}).forEach(function(e){t._linkNodes.delete(e),e._linkNodes.delete(t)})}}]),e}();t.default=d},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultLines={1:"rgba(156,50,72,.4)",2:"rgba(138,197,167,.4)",3:"rgba(197,123,50,.4)",4:"rgba(24,52,64,.4)",5:"rgba(203,102,60,.4)",6:"rgba(202,192,164,.4)"},t.defaultColors={1:"rgba(156,50,72,1)",2:"rgba(138,197,167,1)",3:"rgba(197,123,50,1)",4:"rgba(24,52,64,1)",5:"rgba(203,102,60,1)",6:"rgba(202,192,164,1)"}},130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{grids:[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,2,2,1,1,1,1],[1,1,1,2,2,2,2,1,1,1],[1,1,2,2,3,3,2,2,1,1],[1,2,2,3,3,3,3,2,2,1],[1,2,3,3,2,2,3,3,2,1],[1,2,3,2,2,2,2,3,2,1],[1,2,3,2,1,1,2,3,2,1],[1,2,3,2,1,1,2,3,2,1],[1,2,3,2,1,1,2,3,2,1],[1,2,3,2,2,2,2,3,2,1],[1,2,3,3,2,2,3,3,2,1],[1,2,2,3,3,3,3,2,2,1],[1,1,2,2,3,3,2,2,1,1],[1,1,1,2,2,2,2,1,1,1],[1,1,1,1,2,2,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,3,3,1,1],[1,2,2,1,1,3,3,3,3,1],[1,2,2,1,1,3,2,2,3,1],[1,2,2,1,1,3,2,2,3,1],[1,1,1,1,1,3,2,2,3,1],[1,1,1,1,1,3,3,3,3,1],[1,1,1,1,1,1,3,3,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1]],limit:4,styles:{colors:{1:"rgba(152,52,61,1)",2:"rgba(91,143,116,1)",3:"rgba(201,184,158,1)"},lines:{1:"rgba(152,52,61,.4)",2:"rgba(91,143,116,.4)",3:"rgba(201,184,158,.4)"}}},{grids:[[1,2,2,3,1,1,2,2,3,1],[1,2,2,3,1,1,2,2,3,1],[1,2,2,3,1,1,3,2,3,1],[1,3,2,3,1,1,3,3,3,1],[1,3,3,3,1,1,3,3,3,1],[1,3,3,3,1,1,3,2,3,1],[4,3,3,3,1,1,3,2,2,1],[4,4,3,3,1,1,3,2,2,1],[1,4,4,3,1,1,3,2,2,1],[1,2,4,4,1,1,3,3,2,1],[1,2,2,4,4,1,3,3,3,1],[1,2,2,3,4,4,3,3,3,1],[4,2,2,3,1,4,2,3,3,1],[4,4,2,3,1,1,2,2,3,1],[2,4,3,3,1,1,2,2,3,1],[2,3,3,3,1,1,2,2,3,4],[2,3,3,3,2,1,3,2,3,4],[2,2,3,3,2,4,3,3,3,1],[1,2,2,3,2,4,4,3,3,1],[1,2,2,3,2,2,4,2,3,1],[1,2,2,3,2,2,2,2,4,1],[1,3,2,3,2,2,2,2,4,4],[1,3,3,3,1,2,2,2,2,4],[1,3,3,3,1,1,2,2,2,2],[1,3,2,3,1,1,3,2,2,2],[1,3,2,2,1,1,3,3,2,2],[1,3,2,2,1,1,3,3,3,2],[1,3,2,2,1,1,3,3,3,4],[1,3,3,2,1,1,3,3,3,4]],limit:5,styles:{colors:{1:"rgba(209,197,171,1)",2:"rgba(205,104,62,1)",3:"rgba(37,60,66,1)",4:"rgba(88,172,156,1)"},lines:{1:"rgba(209,197,171,.4)",2:"rgba(205,104,62,.4)",3:"rgba(37,60,66,.4)",4:"rgba(88,172,156,.4)"}}},{grids:[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,2,1,1],[1,3,1,1,1,1,2,2,1,1],[1,3,3,1,1,2,2,2,1,1],[1,3,3,3,1,1,2,2,1,1],[1,3,1,3,3,1,1,2,1,1],[1,3,1,1,3,3,1,1,1,1],[1,3,1,1,1,3,3,1,1,1],[1,3,1,4,1,1,3,3,1,1],[1,3,1,2,4,1,1,3,3,1],[1,3,1,4,1,1,3,3,1,1],[1,3,1,1,1,3,3,1,1,1],[1,3,1,1,3,3,1,1,4,1],[1,3,1,3,3,1,1,4,4,1],[1,3,3,3,1,1,4,1,4,1],[1,3,3,1,1,4,4,1,1,1],[1,3,1,1,4,4,1,1,4,1],[1,1,1,4,1,1,3,1,4,1],[1,1,4,4,1,1,4,3,4,1],[1,1,1,4,1,1,3,1,4,1],[1,1,1,1,4,4,1,1,4,1],[1,1,3,1,1,4,4,1,1,1],[1,1,1,3,1,1,4,1,4,1],[1,1,3,1,1,1,1,4,4,1],[1,1,1,1,1,1,1,1,4,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1]],limit:5,styles:{colors:{1:"rgba(64,132,109,1)",2:"rgba(207,167,69,1)",3:"rgba(209,110,53,1)",4:"rgba(37,63,89,1)"},lines:{1:"rgba(64,132,109,.4)",2:"rgba(207,167,69,.4)",3:"rgba(209,110,53,.4)",4:"rgba(37,63,89,.4)"}}},{grids:[[2,2,3,1,4,4,1,3,3,3],[2,2,3,1,4,4,1,3,3,3],[3,3,3,1,1,1,1,3,3,3],[3,3,4,4,1,1,2,2,3,3],[1,4,4,4,4,2,2,2,2,1],[1,4,4,4,4,2,3,3,2,1],[1,4,4,4,4,2,3,3,2,1],[1,4,4,4,4,2,3,3,2,1],[1,4,4,4,4,2,2,2,2,1],[3,3,4,4,1,1,2,2,1,1],[3,3,3,1,1,1,1,1,1,1],[1,1,3,1,3,3,1,1,1,1],[1,1,3,1,3,3,1,1,1,1],[1,1,3,1,3,3,1,1,1,1],[3,3,3,1,1,1,1,1,1,1],[3,3,2,2,1,1,1,1,1,1],[1,2,2,2,2,1,1,1,1,4],[1,2,3,3,2,1,2,2,1,4],[1,2,3,3,2,1,2,2,1,4],[1,2,3,3,2,1,2,2,1,4],[1,2,2,2,2,1,1,1,1,4],[1,1,2,2,3,3,1,1,1,1],[1,1,1,3,3,3,3,1,1,1],[2,2,1,3,4,4,3,1,3,3],[2,2,1,3,4,4,3,1,3,3],[2,2,1,3,4,4,3,1,3,3],[1,1,1,3,3,3,3,1,1,1],[1,1,1,1,3,3,1,1,1,1],[1,1,1,1,1,1,1,1,1,1]],limit:5,styles:{colors:{1:"rgba(22,50,62,1)",2:"rgba(137,196,166,1)",3:"rgba(200,126,53,1)",4:"rgba(154,48,70,1)"},lines:{1:"rgba(22,50,62,.4)",2:"rgba(137,196,166,.4)",3:"rgba(200,126,53,.4)",4:"rgba(154,48,70,.4)"}}}]},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=l.default[u],t=e.grids,n=e.limit,r=e.styles,o=void 0===r?{}:r,a=new s.default({grids:t,colors:o.colors,lines:o.lines}),d=document.querySelector("#canvas-wrapper"),c=document.querySelector("#colors-wrapper"),f=document.querySelector("#tips-wrapper");d.innerHTML='<canvas class="canvas" width="300" height="500"></canvas>',c.innerHTML="",a.types.forEach(function(e){c.innerHTML+='<span\n            data-type="'+e+'" \n            class="color"\n            style="background: '+a.colors[e]+"; border: 3px solid "+a.lines[e]+'"\n        ></span>'}),f.innerHTML="<div>请在"+n+"步之内完成</div>";var h=void 0,v=[].slice.call(c.querySelectorAll("[data-type]"));v.forEach(function(e){e.addEventListener("click",function(e){v.forEach(function(e){e.classList.remove("selected")}),this.classList.add("selected"),h=+this.dataset.type})}),c.querySelector("[data-type]").click();var y=d.querySelector("canvas");y.addEventListener("click",function(e){var t=a.getNodeByOffset(e.offsetX/y.offsetWidth,e.offsetY/y.offsetHeight);a.tap(t,h,{onEnd:function(e){var t=e.result,r=e.tapCount;if(t){if(++u>=l.default.length)return void setTimeout(function(){alert("已通过所有关卡~！")},50);setTimeout(function(){alert("通过~！（当前进度："+u+"/"+l.default.length+"）")},50),i()}else r>=n&&(setTimeout(function(){alert("失败...别灰心，再试一下")},50),a.reset())},delay:100})}),a.mount(y)}var o=n(66),s=r(o),a=n(130),l=r(a),u=0;i()},66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},67:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(24),o=r(i),s=n(84),a=r(s),l=n(40),u=r(l),d=n(41),c=r(d),f=n(90),h=r(f),v=n(91),y=r(v),g=n(99),p=r(g),b=function(e){function t(){return(0,u.default)(this,t),(0,h.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,c.default)(t,[{key:"mount",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.colors,i=n.lines;this._inBrowser=!0,this._canvas=e,r=r||this.colors||t.defaultColors,i=i||this.lines||t.defaultLines,this.setStyles({colors:r,lines:i}),this.render()}},{key:"setStyles",value:function(e){var t=this,n=e.node,r=e.colors,i=e.lines;this.colors=r||this.colors,this.lines=i||this.lines,n?(n.color=this.colors[n.type]||"",n.line="object"===(0,o.default)(this.lines)?this.lines[n.type]:n.type?this.lines:""):this.nodeGrids.forEach(function(e){e.forEach(function(e){e.color=t.colors[e.type]||"",e.line="object"===(0,o.default)(t.lines)?t.lines[e.type]:e.type?t.lines:""})})}},{key:"render",value:function(){if(this._canvas){var e=this.nodeGrids,t=this._canvas,n=t.width,r=t.height,i=t.getContext("2d"),o=e[0].length,s=e.length,a=n/o,l=r/((s-1)/2)/2;i.clearRect(0,0,n,r),e.forEach(function(e,t){e.forEach(function(e,n){var r=n+t&1;i.beginPath(),r?(i.moveTo(a*n,l*t),i.lineTo(a*(n+1),l*(t-1)),i.lineTo(a*(n+1),l*(t+1)),i.lineTo(a*n,l*t)):(i.moveTo(a*n,l*(t-1)),i.lineTo(a*(n+1),l*t),i.lineTo(a*n,l*(t+1)),i.lineTo(a*n,l*(t-1))),i.fillStyle=e.color,e.color&&i.fill(),i.strokeStyle=e.line,e.line&&i.stroke(),i.closePath()})})}}},{key:"getNodeByOffset",value:function(e,t){var n=1/this.nodeGrids[0].length,r=1/(this.nodeGrids.length-1),i=e/n|0,o=e/n-i,s=t/r|0,a=1-(t/r-s),l=i+s&1?1-o<a:o<a,u=i,d=l?s:s+1;return this.nodeGrids[d][u]}}]),t}(p.default);t.default=b,e.exports=b},99:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e={},t=this._originGrids.map(function(t){return t.map(function(t){return e[t]=!0,new w.default(t)})});(0,k.default)(t,{getNode:{value:function(e,t){return this[t]&&this[t][e]||null},enumerable:!1}}),t.forEach(function(e,n){e.forEach(function(e,r){e.link(t.getNode(r,n-1),t.getNode(r,n+1),t.getNode(r+(r+n&1?1:-1),n))})}),this.nodeGrids=t,this._tapCount=0,this.types=(0,b.default)(e).map(function(e){return+e}).filter(function(e){return e}),this._canvas&&"function"==typeof this.mount&&this.mount(this._canvas)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,a=n(100),l=r(a),u=n(60),d=r(u),c=n(116),f=r(c),h=n(40),v=r(h),y=n(41),g=r(y),p=n(122),b=r(p),_=n(125),k=r(_),m=n(128),w=r(m),E=n(129),T=(s=o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.canvas,r=void 0===n?null:n,o=t.grids,s=t.colors,a=void 0===s?e.defaultColors:s,l=t.lines,u=void 0===l?e.defaultLines:l;if((0,v.default)(this,e),!o||!o[0])throw new Error("please use correct grids");this._originGrids=o,this._canvas=r,this.colors=a,this.lines=u,i.call(this)}return(0,g.default)(e,[{key:"tap",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,o=r.onEnd,s=e.type;if(t!==s){this._tapCount++;var a=new f.default,u=new d.default([e]);!function e(){var r=new d.default;u.forEach(function(e){a.add(e),e.type=t,n._inBrowser&&n.setStyles({node:e});var i=!0,o=!1,u=void 0;try{for(var d,c=(0,l.default)(e._linkNodes);!(i=(d=c.next()).done);i=!0){var f=d.value;a.has(f)||f.type!==s||r.add(f)}}catch(e){o=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw u}}}),u=r,u.size?i?(i=i/10*9,n._inBrowser&&n.render(),setTimeout(e,i)):e():(n._inBrowser&&n.render(),o&&o({result:n.checkConsistency(),tapCount:n._tapCount}))}()}}},{key:"singleTap",value:function(e,t){e.type=t,this._inBrowser&&(this.setStyles({node:e}),this.render())}},{key:"getGrids",value:function(){return this.nodeGrids.map(function(e){return e.map(function(e){return e.type})})}},{key:"reset",value:function(){i.call(this)}},{key:"checkConsistency",value:function(){var e=void 0,t=!0,n=!1,r=void 0;try{for(var i,o=(0,l.default)(this.nodeGrids);!(t=(i=o.next()).done);t=!0){var s=i.value,a=!0,u=!1,d=void 0;try{for(var c,f=(0,l.default)(s);!(a=(c=f.next()).done);a=!0){var h=c.value;if(e||(e=h.type),h.type&&h.type!==e)return!1}}catch(e){u=!0,d=e}finally{try{!a&&f.return&&f.return()}finally{if(u)throw d}}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!0}}]),e}(),o.defaultLines=E.defaultLines,o.defaultColors=E.defaultColors,s);t.default=T,e.exports=T}},[65]);
//# sourceMappingURL=main.da38231f57953578359f.js.map